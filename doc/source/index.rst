.. anesplot documentation master file, created by
   sphinx-quickstart on Wed Sep  8 17:19:08 2021.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

Welcome to anesplot's documentation!
====================================

anesthPlot is a python package developped to extract, manipulate and plots **anesthesia data 
recorded during equine anesthesia**. 
Is is using recording generated by the Monitor Software or the Taphonius equine anesthesia machine. 

The main purpose is an usage in a **teaching environment** (briefing-debriefing approach), 
but this package can also facilite recording manipulation for other purposes.
 
.. warning::

   This project is:
   
      - a work in progres
      - the processes are mainly focused on horses anesthesia (default values)
      - in our environment the data recorded came from either
          - an as3 or as5 anesthesia monitor (ekg, invasive pressure, etCO2, halogenate, spirometry)
          - a Taphonius equine ventilator 
          - (some ekg .csv data extracted using a Televet holter system)


Features
---------

- you can **load** recordings from a trend or a wave file

   - from command line:
      .. code-block:: bash

         python anesthPlot/anesplot/__main__.py
         or
         python -m anesplot
         -> this will open an GUI choose menu to choose the recording 
         (MonitorTrend, TaphoniusTrend, MonitorWave, TelevetWave)


      - this script approach will build a **standard plot series** for debriefing purposes:
         
         - global histograms (cardiovascular and anesthesia summary)
         - cardiovascular time based trends plots
         - respiratory time based trends plots
         - anesthesia time based trends plots

      - or will build a user selected **plot for wave** recording 
  
         - one or two waves on the same plot (script usage, pop_up menu to choose)

- you can also use this code as a **python package**

   - usage :
      .. code-block::  python
 
         import anesplot.record_main as rec
         trendname = 'a_full_path_to_csv_file'
         # nb if no filename is provided, a chooseFile Gui will be called to choose the file
         trends = rec.MonitorTrend(trendname)
         #(you can also use trends = rec.taphTrend()
         wavename = rec.trendname_to_wavename(trendname)
         waves = rec.MonitorWave(wavename)
        
         trends.show_graphs() # -> set of plots for 'clinical' debriefing purposes

         waves.plot_waves() # -> one or two traces
         # ... adjust manually the scales of the display
         waves.define_a_roi() # -> to register the plotting scales
         waves.animate_fig() #-> to build an animation using these parameters

         (nb running 'rec.get_basic_debrief_commands()' will prefill this standard code)

   - additional functions are available to extract instaneous heart rate

      - see anesplot/treatrec/ekg_to_hr.py
      - (running 'rec.get_guide()' will prefill a standard approach)




main script
=============

.. note::

   - anesplot/__main__.py:
     - can be called directly from a terminal :
  
     "python -m anesplot" or "python anesplot/__main__.py"
    
     - is the entry point to the program ('record_main.py')


.. toctree::
   :maxdepth: 1
   :caption: main_script:

   anesplot.record_main


modules
==================
.. toctree::
   :maxdepth: 4
   :caption: Contents:

   anesplot.guides
   anesplot.loadrec
   anesplot.plot
   anesplot.treatrec
   anesplot.config


Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
